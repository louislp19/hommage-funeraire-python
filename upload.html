<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Upload MÃ©morial</title>
  <script src="https://unpkg.com/@vercel/blob@1/browser.js"></script>
  <style>img{max-width:200px;margin:5px}</style>
</head>
<body>
  <h1>ğŸ“¸ Upload Photos MÃ©morial</h1>
  
  <input type="file" id="files" multiple accept="image/*">
  <input type="text" id="memorialId" placeholder="ID mÃ©morial (test)" value="test">
  <button onclick="upload()">ğŸš€ Upload</button>
  
  <div id="status"></div>
  <div id="gallery"></div>

  <script>
    const handle = "@VOTRE_HANDLE_VERCEL@"; // â† REMPLACE PAR TON HANDLE
    
    async function upload() {
      const files = document.getElementById('files').files;
      const memorialId = document.getElementById('memorialId').value;
      const status = document.getElementById('status');
      const gallery = document.getElementById('gallery');
      
      if (!files.length) return status.innerHTML = 'âŒ Choisis des fichiers';
      
      status.innerHTML = 'â³ Upload...';
      
      try {
        const urls = [];
        for (let file of files) {
          const pathname = `memorials/${memorialId}/${Date.now()}-${file.name}`;
          const blob = await Blobby.createUpload(handle, {
            pathname,
            file
          });
          urls.push(blob);
        }
        
        status.innerHTML = `âœ… ${urls.length} photo(s) uploadÃ©es !`;
        gallery.innerHTML = urls.map(u => 
          `<div>
            <img src="${u.url}" alt="${u.pathname}">
            <br><small>${u.pathname}</small>
          </div>`
        ).join('');
        
        // Copie URLs pour slideshow
        navigator.clipboard.writeText(JSON.stringify(urls));
        status.innerHTML += ' ğŸ“‹ URLs copiÃ©es !';
        
      } catch (e) {
        status.innerHTML = `âŒ ${e.message}`;
        console.error(e);
      }
    }
  </script>
</body>
</html>
