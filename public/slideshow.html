<!DOCTYPE html>
<html>
<head>
<title>Mémorial</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body, html { height: 100%; overflow: hidden; background: #000; }
#slideshow { 
  position: relative; width: 100vw; height: 100vh; 
}
img { 
  position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
  object-fit: cover; opacity: 0; transition: opacity 2s ease-in-out;
}
img.active { opacity: 1; z-index: 1; }
#name { 
  position: absolute; bottom: 30px; left: 30px; 
  background: rgba(0,0,0,0.8); color: white; padding: 20px 30px; 
  font-family: Arial; font-size: 28px; border-radius: 10px; 
}
</style>
</head>
<body>
<div id="slideshow"></div>
<div id="name">Chargement...</div>

<script>
const memorial = JSON.parse(localStorage.getItem('currentMemorial') || '{}');
const images = memorial.images || [];
const name = memorial.name || 'Mémorial';

document.getElementById('name').textContent = name;

const slideshow = document.getElementById('slideshow');
images.forEach(src => {
  const img = document.createElement('img');
  img.src = src;
  slideshow.appendChild(img);
});

let index = 0;
function nextSlide() {
  Array.from(slideshow.children).forEach((img, i) => {
    img.classList.toggle('active', i === index);
  });
  index = (index + 1) % images.length;
}
setInterval(nextSlide, 5000);
nextSlide();
</script>
</body>
</html>
