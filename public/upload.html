<!DOCTYPE html>
<html>
<head><title>Upload M√©morial</title>
<style>body{font-family:Arial;padding:50px;text-align:center;background:linear-gradient(135deg,#667eea,#764ba2);color:white;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;}
input,button{ margin:10px; padding:10px; font-size:16px; }
#status{font-size:20px; margin:20px; min-height:50px;}
</style></head>
<body>
<h1>üì∏ Upload Photos M√©morial</h1>
<input type="file" id="files" multiple accept="image/*">
<button onclick="upload()">Cr√©er & Voir Slideshow</button>
<div id="status">S√©lectionne photos ‚Üí Cr√©er</div>

<script>
async function upload() {
    const files = document.getElementById('files').files;
    const status = document.getElementById('status');
    if(files.length === 0) return status.innerHTML = '‚ùå Choisis photos';
    
    const formData = new FormData();
    Array.from(files).forEach(file => formData.append('file', file));
    
    status.innerHTML = '‚è≥ Upload...';
    try {
        const res = await fetch('/api/upload', {method:'POST', body: formData});
        const data = await res.json();
        
        if(data.success) {
            status.innerHTML = `‚úÖ ${data.new_count} ajout√©e(s)<br>Total: ${data.total_count} photos<br><a href="/slideshow.html" style="color:#4ade80;font-size:24px;">‚ñ∂Ô∏è Lancer Slideshow Fullscreen</a>`;
        } else {
            status.innerHTML = '‚ùå ' + (data.error || 'Erreur inconnue');
        }
    } catch(e) {
        status.innerHTML = '‚ùå Erreur r√©seau';
    }
}
</script>
</body>
</html>
